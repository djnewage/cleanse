name: Notify Website of New Release

on:
  release:
    types: [published]

jobs:
  trigger-website-redeploy:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Vercel redeploy of Recrate website
        run: |
          response=$(curl -s -o /dev/null -w "%{http_code}" -X POST "${{ secrets.VERCEL_DEPLOY_HOOK }}")
          if [ "$response" -ne 201 ]; then
            echo "Error: Vercel deploy hook returned HTTP $response"
            exit 1
          fi
          echo "Vercel redeploy triggered successfully (HTTP $response)"
